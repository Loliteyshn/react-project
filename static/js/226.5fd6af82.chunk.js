"use strict";(self.webpackChunkreact_1=self.webpackChunkreact_1||[]).push([[226],{9034:function(t,s,e){e.r(s),e.d(s,{default:function(){return M}});var n=e(2791),i=e(8687),o=e(6070),a={posts:"MyPosts_posts__GSiZ2",input:"MyPosts_input__7uVRv",inputs:"MyPosts_inputs__-E79Y",btn:"MyPosts_btn__v9RAD"},u="Post_postImg__RhVPL",r="Post_flex__Amv+A",l=e.p+"static/media/529peach_100978.8ab86ecdfa85d0b26dbe.png",c=e(184),d=function(t){return(0,c.jsxs)("div",{className:r,children:[(0,c.jsx)("img",{src:l,alt:"",className:u}),t.message," ",t.likesCount]})},f=e(9439),p=function(t){var s=(0,n.useState)(!1),e=(0,f.Z)(s,2),i=e[0],o=e[1],a=(0,n.useState)(t.status),u=(0,f.Z)(a,2),r=u[0],l=u[1];(0,n.useEffect)((function(){l(t.status)}),[t.status]);return(0,c.jsxs)(c.Fragment,{children:[!i&&(0,c.jsx)("div",{children:(0,c.jsx)("span",{onDoubleClick:function(){o(!0)},children:t.status||"----"})}),i&&(0,c.jsx)("div",{children:(0,c.jsx)("input",{onChange:function(t){l(t.target.value)},autoFocus:!0,onBlur:function(){o(!1),t.updateStatus(r)},value:r})})]})},x=e(6139),h=e(704),j=e(5304),g=e(2781),m=(0,j.D)(10),_=(0,h.Z)({form:"AddPost"})((function(t){return(0,c.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,c.jsx)("div",{children:(0,c.jsx)(x.Z,{child:"textarea",component:g.N,name:"newPostText",validate:[j.l,m],placeholder:"Post message"})}),(0,c.jsx)("div",{children:(0,c.jsx)("button",{children:"Login"})})]})})),P=n.memo((function(t){var s=t.posts.map((function(t){return(0,c.jsx)(d,{message:t.message,likesCount:t.likesCount},t.id)}));return(0,c.jsxs)("div",{className:a.posts,children:[(0,c.jsx)(p,{status:t.status,updateStatus:t.updateStatus}),(0,c.jsx)("h3",{children:"My posts"}),(0,c.jsx)("div",{className:a.flex,children:(0,c.jsx)(_,{onSubmit:function(s){console.log("potts",s),t.addPost(s.newPostText)}})}),(0,c.jsx)("div",{children:s})]})})),v=(0,i.$j)((function(t){return{posts:t.profilePage.posts,newPostText:t.profilePage.newPostText,status:t.profilePage.status}}),{addPost:o.q2,getStatus:o.lR,updateStatus:o.Nf})(P),b="ProfileInfo_profile__XM2oU",S="ProfileInfo_mainImg__ZzD1A",N=(e.p,e.p+"static/media/peaches.c89ba699cf43a79757db.jpeg"),k=e(4051),w=function(t){k.Z},A=function(t){return console.log(t),t.profile?(0,c.jsxs)("div",{children:[(0,c.jsx)("img",{src:N,alt:"",className:S}),(0,c.jsxs)("div",{className:b,children:[(0,c.jsx)("img",{src:t.profile.photos.large,alt:""}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h2",{children:t.profile.fullName}),(0,c.jsxs)("p",{children:[t.profile.aboutMe,(0,c.jsx)("br",{}),t.profile.lookingForAJobDescription," ",(0,c.jsx)("br",{})]})]})]})]}):(0,c.jsx)(w,{})},C=function(t){return(0,c.jsxs)("div",{children:[(0,c.jsx)(A,{profile:t.profile}),(0,c.jsx)(v,{})]})},I=e(7689);e(1548);var M=(0,e(1154).qC)((0,i.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getUserProfile:o.et,getStatus:o.lR,updateStatus:o.Nf}))((function(t){var s=(0,I.UO)().userId;return(0,n.useEffect)((function(){s||(s=t.authorizedUserId)||(window.location.href="/login"),t.getUserProfile(s),t.getStatus(s)}),[s,t.getUserProfile,t.getStatus]),(0,c.jsx)("div",{children:(0,c.jsx)(C,{profile:t.profile,status:t.status,updateStatus:t.updateStatus})})}))},1548:function(t,s,e){e(8687),e(184)}}]);
//# sourceMappingURL=226.5fd6af82.chunk.js.map