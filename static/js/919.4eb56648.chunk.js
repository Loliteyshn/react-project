"use strict";(self.webpackChunkreact_1=self.webpackChunkreact_1||[]).push([[919],{2686:(s,e,t)=>{t.r(e),t.d(e,{default:()=>E});var i=t(5043),o=t(2166),r=t(4697);const l={posts:"MyPosts_posts__GSiZ2",input:"MyPosts_input__7uVRv",inputs:"MyPosts_inputs__-E79Y",btn:"MyPosts_btn__v9RAD"},n="Post_postImg__RhVPL",a="Post_flex__Amv+A",d=t.p+"static/media/529peach_100978.8ab86ecdfa85d0b26dbe.png";var c=t(579);const u=s=>{let{post:e}=s;return(0,c.jsxs)("div",{className:a,children:[(0,c.jsx)("img",{src:d,alt:"",className:n}),e.message," ",e.likesCount]})},h=s=>{const[e,t]=(0,i.useState)(!1),[o,r]=(0,i.useState)(s.status);(0,i.useEffect)((()=>{r(s.status)}),[s.status]);return(0,c.jsxs)(c.Fragment,{children:[!e&&(0,c.jsxs)("div",{children:[(0,c.jsx)("b",{children:"Status: "})," ",(0,c.jsx)("span",{onDoubleClick:()=>{t(!0)},children:s.status||"----"})]}),e&&(0,c.jsx)("div",{children:(0,c.jsx)("input",{onChange:s=>{r(s.target.value)},autoFocus:!0,onBlur:()=>{t(!1),s.updateStatus(o)},value:o})})]})};var x=t(3842),j=t(8779),f=t(572);const p=(0,j.d)(10),v=(0,x.A)({form:"AddPost"})((s=>{let{handleSubmit:e}=s;return(0,c.jsxs)("form",{onSubmit:e,children:[(0,c.jsx)("div",{children:(0,f.z)("Post text","newPostText",[j.Q,p],"textarea")}),(0,c.jsx)("div",{children:(0,c.jsx)("button",{children:"Login"})})]})})),m=i.memo((s=>{let{posts:e,addPost:t,status:i,updateStatus:o}=s,r=e.map((s=>(0,c.jsx)(u,{post:s},s.id)));return(0,c.jsxs)("div",{className:l.posts,children:[(0,c.jsx)(h,{status:i,updateStatus:o}),(0,c.jsx)("h3",{children:"My posts"}),(0,c.jsx)("div",{className:l.flex,children:(0,c.jsx)(v,{onSubmit:s=>{t(s.newPostText)}})}),(0,c.jsx)("div",{children:r})]})}));const b=(0,o.Ng)((s=>({posts:s.profilePage.posts,status:s.profilePage.status})),{addPost:r.o1.addPost,updateStatus:r.yB})(m),g="ProfileInfo_profile__XM2oU",P="ProfileInfo_mainImg__ZzD1A",_="ProfileInfo_mainPhoto__QU8TO",S="ProfileInfo_contact__sQB8W",k=t.p+"static/media/peaches.c89ba699cf43a79757db.jpeg";var A=t(2626);const y=()=>(0,c.jsx)("div",{style:{backgroundColor:"white"},children:(0,c.jsx)("img",{src:A.A})});var N=t(8317),M=t(8304);const w=(0,x.A)({form:"edit-profile"})((s=>{let{handleSubmit:e,profile:t,error:i}=s;return(0,c.jsxs)("form",{onSubmit:e,children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("button",{children:"Save"})," "]}),i&&(0,c.jsx)("div",{className:M.A.formSummaryError,children:i}),(0,c.jsxs)("h2",{children:["Full name: ",(0,f.z)("Full name","fullName",[],"input")]}),(0,c.jsx)("div",{children:(0,c.jsxs)("b",{children:["Looking for a job: ",(0,f.z)("","lookingForAJob",[],"input",{type:"checkbox"})]})}),(0,c.jsx)("div",{children:(0,c.jsxs)("b",{children:["My professional skills: ",(0,f.z)("My professional skills:","lookingForAJobDescription",[],"textarea")]})}),(0,c.jsx)("div",{children:(0,c.jsxs)("b",{children:["About me: ",(0,f.z)("About me:","aboutMe",[],"textarea")]})}),(0,c.jsx)("div",{children:(0,c.jsxs)("b",{children:["Contacts: ",Object.keys(t.contacts).map((s=>(0,c.jsx)("div",{className:S,children:(0,c.jsxs)("b",{children:[s,": ",(0,f.z)(s,"contacts."+s,[],"input")]})},s)))]})})]})})),z=s=>{let{profile:e,isOwner:t,goToEditMode:i}=s;return(0,c.jsxs)("div",{children:[t&&(0,c.jsxs)("div",{children:[(0,c.jsx)("button",{onClick:i,children:"Edit"})," "]}),(0,c.jsxs)("h2",{children:["Full name: ",e.fullName]}),(0,c.jsx)("div",{children:(0,c.jsxs)("b",{children:["Looking for a job: ",e.lookingForAJob?"yes":"no"]})}),e.lookingForAJob&&(0,c.jsx)("div",{children:(0,c.jsxs)("b",{children:["My professional skills: ",e.lookingForAJobDescription]})}),(0,c.jsx)("div",{children:(0,c.jsxs)("b",{children:["About me: ",e.aboutMe]})}),(0,c.jsx)("div",{children:(0,c.jsxs)("b",{children:["Contacts: ",Object.keys(e.contacts).map((s=>(0,c.jsx)(C,{contactTitle:s,contactValue:e.contacts[s]},s)))]})})]})},C=s=>{let{contactTitle:e,contactValue:t}=s;return(0,c.jsxs)("div",{className:S,children:[(0,c.jsx)("b",{children:e}),": ",t]})},I=s=>{let{profile:e,savePhoto:t,isOwner:o,saveProfile:r}=s;const[l,n]=(0,i.useState)(!1);if(!e)return(0,c.jsx)(y,{});return(0,c.jsxs)("div",{children:[(0,c.jsx)("img",{src:k,alt:"",className:P}),(0,c.jsxs)("div",{className:g,children:[(0,c.jsx)("img",{src:e.photos.large||N,className:_,alt:""}),o&&(0,c.jsx)("input",{type:"file",onChange:s=>(s=>{var e;null!==(e=s.target.files)&&void 0!==e&&e.length&&t(s.target.files[0])})(s)}),l?(0,c.jsx)(w,{initialValues:e,onSubmit:s=>{r(s).then((()=>{n(!1)}))},profile:e,error:void 0}):(0,c.jsx)(z,{profile:e,isOwner:o,goToEditMode:()=>n(!0)})]})]})},F=s=>(0,c.jsxs)("div",{children:[(0,c.jsx)(I,{savePhoto:s.savePhoto,isOwner:s.isOwner,profile:s.profile,saveProfile:s.saveProfile}),(0,c.jsx)(b,{})]});var O=t(3216),U=t(5751);const E=(0,t(3923).Zz)((0,o.Ng)((s=>({profile:s.profilePage.profile,status:s.profilePage.status,authorizedUserId:s.auth.userId})),{getUserProfile:r.VM,getStatus:r.BS,updateStatus:r.yB,savePhoto:r.Ah,saveProfile:r.Lt}),U.H)((s=>{let{userId:e}=(0,O.g)();return(0,i.useEffect)((()=>{let t=Number(e);t||s.authorizedUserId&&(t=s.authorizedUserId,t||(window.location.href="/login")),s.getUserProfile(t),s.getStatus(t)}),[e,s.getUserProfile,s.getStatus]),(0,c.jsx)("div",{children:(0,c.jsx)(F,{profile:s.profile,isOwner:!e,savePhoto:s.savePhoto,saveProfile:s.saveProfile})})}))},5751:(s,e,t)=>{t.d(e,{H:()=>n});var i=t(3216),o=t(2166),r=(t(5043),t(579));let l=s=>({isAuth:s.auth.isAuth});function n(s){return(0,o.Ng)(l,{})((e=>{let{isAuth:t,...o}=e;return t?(0,r.jsx)(s,{...o}):(0,r.jsx)(i.C5,{to:"/login"})}))}}}]);
//# sourceMappingURL=919.4eb56648.chunk.js.map