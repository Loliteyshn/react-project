"use strict";(self.webpackChunkreact_1=self.webpackChunkreact_1||[]).push([[226],{9034:function(t,s,e){e.r(s),e.d(s,{default:function(){return D}});var n=e(2791),i=e(8687),o=e(6070),u={posts:"MyPosts_posts__GSiZ2",input:"MyPosts_input__7uVRv",inputs:"MyPosts_inputs__-E79Y",btn:"MyPosts_btn__v9RAD"},r="Post_postImg__RhVPL",a="Post_flex__Amv+A",l=e.p+"static/media/529peach_100978.8ab86ecdfa85d0b26dbe.png",c=e(184),d=function(t){return(0,c.jsxs)("div",{className:a,children:[(0,c.jsx)("img",{src:l,alt:"",className:r}),t.message," ",t.likesCount]})},f=e(9439),p=function(t){var s=(0,n.useState)(!1),e=(0,f.Z)(s,2),i=e[0],o=e[1],u=(0,n.useState)(t.status),r=(0,f.Z)(u,2),a=r[0],l=r[1];(0,n.useEffect)((function(){l(t.status)}),[t.status]);return(0,c.jsxs)(c.Fragment,{children:[!i&&(0,c.jsx)("div",{children:(0,c.jsx)("span",{onDoubleClick:function(){o(!0)},children:t.status||"----"})}),i&&(0,c.jsx)("div",{children:(0,c.jsx)("input",{onChange:function(t){l(t.target.value)},autoFocus:!0,onBlur:function(){o(!1),t.updateStatus(a)},value:a})})]})},h=e(6139),x=e(704),j=e(5304),g=e(2781),m=(0,j.D)(10),_=(0,x.Z)({form:"AddPost"})((function(t){return(0,c.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,c.jsx)("div",{children:(0,c.jsx)(h.Z,{child:"textarea",component:g.N,name:"newPostText",validate:[j.l,m],placeholder:"Post message"})}),(0,c.jsx)("div",{children:(0,c.jsx)("button",{children:"Login"})})]})})),v=n.memo((function(t){var s=t.posts.map((function(t){return(0,c.jsx)(d,{message:t.message,likesCount:t.likesCount},t.id)}));return(0,c.jsxs)("div",{className:u.posts,children:[(0,c.jsx)(p,{status:t.status,updateStatus:t.updateStatus}),(0,c.jsx)("h3",{children:"My posts"}),(0,c.jsx)("div",{className:u.flex,children:(0,c.jsx)(_,{onSubmit:function(s){console.log("potts",s),t.addPost(s.newPostText)}})}),(0,c.jsx)("div",{children:s})]})})),P=(0,i.$j)((function(t){return{posts:t.profilePage.posts,newPostText:t.profilePage.newPostText,status:t.profilePage.status}}),{addPost:o.q2,getStatus:o.lR,updateStatus:o.Nf})(v),b="ProfileInfo_profile__XM2oU",S="ProfileInfo_mainImg__ZzD1A",A=(e.p,e.p+"static/media/peaches.c89ba699cf43a79757db.jpeg"),N=e(4051),k=function(t){N.Z},w=function(t){return console.log(t),t.profile?(0,c.jsxs)("div",{children:[(0,c.jsx)("img",{src:A,alt:"",className:S}),(0,c.jsxs)("div",{className:b,children:[(0,c.jsx)("img",{src:t.profile.photos.large,alt:""}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h2",{children:t.profile.fullName}),(0,c.jsxs)("p",{children:[t.profile.aboutMe,(0,c.jsx)("br",{}),t.profile.lookingForAJobDescription," ",(0,c.jsx)("br",{})]})]})]})]}):(0,c.jsx)(k,{})},C=function(t){return(0,c.jsxs)("div",{children:[(0,c.jsx)(w,{profile:t.profile}),(0,c.jsx)(P,{})]})},I=e(7689),Z=e(1548);var D=(0,e(1154).qC)((0,i.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getUserProfile:o.et,getStatus:o.lR,updateStatus:o.Nf}),Z.D)((function(t){var s=(0,I.UO)().userId;return(0,n.useEffect)((function(){s||(s=t.authorizedUserId)||(window.location.href="/login"),t.getUserProfile(s),t.getStatus(s)}),[s,t.getUserProfile,t.getStatus]),(0,c.jsx)("div",{children:(0,c.jsx)(C,{profile:t.profile,status:t.status,updateStatus:t.updateStatus})})}))},1548:function(t,s,e){e.d(s,{D:function(){return a}});var n=e(1413),i=e(7689),o=e(8687),u=e(184),r=function(t){return{isAuth:t.auth.isAuth}},a=function(t){return(0,o.$j)(r)((function(s){return s.isAuth?(0,u.jsx)(t,(0,n.Z)({},s)):(0,u.jsx)(i.Fg,{to:"/login"})}))}}}]);
//# sourceMappingURL=226.89aa825a.chunk.js.map